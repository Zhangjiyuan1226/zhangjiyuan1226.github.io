

<!DOCTYPE html>
<html lang="en" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" href="/img/favicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="John Doe">
  <meta name="keywords" content="">
  
    <meta name="description" content="Introwelcome translateGiants are not what we think they are. The same qualities that appear to give them strength are often the sources of great weakness.  We at Microhard firmly believe that the mod">
<meta property="og:type" content="article">
<meta property="og:title" content="MHRD build your own cpu">
<meta property="og:url" content="http://example.com/2024/06/10/MHRD-build-your-own-cpu/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="Introwelcome translateGiants are not what we think they are. The same qualities that appear to give them strength are often the sources of great weakness.  We at Microhard firmly believe that the mod">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/2024/06/10/MHRD-build-your-own-cpu/image-20240614162614807.png">
<meta property="og:image" content="http://example.com/2024/06/10/MHRD-build-your-own-cpu/image-20240614151915654.png">
<meta property="article:published_time" content="2024-06-09T17:34:19.000Z">
<meta property="article:modified_time" content="2024-10-27T13:10:08.182Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="Games">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://example.com/2024/06/10/MHRD-build-your-own-cpu/image-20240614162614807.png">
  
  
  
  <title>MHRD build your own cpu - Hexo</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hint.css@2/hint.min.css" />

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.5","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":"JVRHRgZvLvYzeUvgsPXkiSBi-MdYXbMMI","app_key":"eIfDDpCEwOjlXZsTnPUW3j5E","server_url":null,"path":"window.location.pathname","ignore_local":false,"enable":true},"gtag":null},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Fluid</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                <span>Home</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                <span>Archives</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                <span>Categories</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                <span>Tags</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                <span>About</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="MHRD build your own cpu"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2024-06-10 01:34" pubdate>
          June 10, 2024 am
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          <!-- compatible with older versions-->
          8.6k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          <!-- compatible with older versions-->
          72 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">MHRD build your own cpu</h1>
            
            
              <div class="markdown-body">
                
                <p><img src="/2024/06/10/MHRD-build-your-own-cpu/image-20240614162614807.png" srcset="/img/loading.gif" lazyload alt="image-20240614162614807"></p>
<h2 id="Intro"><a href="#Intro" class="headerlink" title="Intro"></a>Intro</h2><h4 id="welcome-translate"><a href="#welcome-translate" class="headerlink" title="welcome translate"></a>welcome translate</h4><p>Giants are not what we think they are. <strong>The same qualities that appear to give them strength are often the sources of great weakness.</strong> </p>
<p>We at Microhard firmly believe that the modern CPUs available in the market place are far more complex that what is good for them.</p>
<p>By having complex instruction sets and downward compatibility the giants of the tech industry trade legacy for efficiency.</p>
<p>three tips:</p>
<ul>
<li>if you don’t konw what to do: read the manual and specifications!</li>
<li>When creating your design: Draw it out on a piece of paper! No one ever created something great just by looking at his screen</li>
<li>if something is wrong with your design: Inspect the error messages and failed tests closely to find out where the problem is.</li>
</ul>
<p>appear to 看起来；出现；呈现</p>
<h4 id="design"><a href="#design" class="headerlink" title="design"></a>design</h4><p>MHRD中所有的元器件都是由NAND组成，因此我们要基于NAND实现例如非门 异或等基础功能，并在此之上实现加法器等工具</p>
<ul>
<li><p>NAND  not and <em>有0就是1，两个1才是0</em></p>
</li>
<li><p>NOT  </p>
<p>input1 output: negate input1by nand </p>
<pre><code class=" mermaid">graph LR
A[input] --&gt;C[NAND]
1 --&gt;C[NAND]
C --&gt; output
</code></pre>
</li>
<li><p>AND</p>
<pre><code class=" mermaid">   graph LR
   A[input1] --&gt;C[NAND]
   input2 --&gt;C[NAND]
   C[NAND]--&gt; D[NOT]
   D[NOT]--&gt;output
</code></pre>
</li>
<li><p>OR</p>
<p>if inputs have 1, the outputs will be one unless the inputs are 0</p>
<pre><code class=" mermaid">   graph LR
   A[NOT in1] --&gt;C[NAND]
   B[NOT in2] --&gt;C[NAND]
C[NAND] --&gt; output
</code></pre>
</li>
<li><p>XOR</p>
<p>if the two inputs are same, the output will be 0.</p>
<pre><code class=" mermaid">   graph LR
   A[in1] --&gt;C[NAND]
   B[in2] --&gt;C[NAND]
C[NAND] --&gt; AND

D[NOT in1] --&gt;E[NAND]
   F[NOT in2] --&gt;E[NAND]
E[NAND] --&gt; AND
AND --&gt; output
</code></pre></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><code class="hljs shell">Instruction Decoder Specification<br>=================================<br><br>Description:<br>------------<br>The DECODER is used in the Microhard CPU for decoding instructions. There are two different kinds of instructions.<br><br>First, if instr[16] equals &quot;1&quot;, then instr[1:15] have to be interpreted as a constant which has to be loadedinto the memory register. In this case the &quot;cToM&quot; and &quot;loadM&quot; output has to be set to &quot;1&quot;, while the &quot;loadD&quot;, &quot;loadA&quot; and &quot;jmpIfZ&quot; outputs have to be &quot;0&quot;. In addition the lower 15 bit of the instruction have to be written into &quot;constant&quot;.<br><br>Second, if instr[16] equals &quot;0&quot;, then the decoder has to interpret the rest of the instruction in a more elaborate way:<br><br>bit:                         16 15 14 13 12 11 10  9  8  7  6  5  4  3  2  1<br>instr[1:16]:                  0  d  d  a  b  b  o  o  o  o  j  c  c  c  c  c<br>                                 \__/  |  \__/  \________/  |  \___________/<br>instr[14:15] destination    ------/    |   |        |       |        |<br>instr[13]    operand1       -----------/   |        |       |        |<br>instr[11:12] operand2       ---------------/        |       |        |<br>instr[7:10]  operation code ------------------------/       |        |<br>instr[6]     jump if zero   --------------------------------/        |<br>instr[1:5]   constant       -----------------------------------------/<br><br>In this case the CPU has to perform the operation specified by &quot;operation code&quot; with the operands decoded by &quot;operand1&quot; and &quot;operand2&quot;.<br><br>The &quot;operation code&quot;, the &quot;operand1&quot;, the &quot;operand2&quot; and the &quot;jump if zero&quot; bits of the instruction can be directly transfered to the &quot;opCode&quot;, &quot;op1&quot;, &quot;op2&quot;, &quot;jmpIfZ&quot; outputs of the decoder respectively.<br><br>As in the other case the lower 15 bit of the instruction have to be written into &quot;constant&quot;. Note however, that in this case the CPU has to feed only the 5 lowest &quot;constant&quot; bits to the ALU when using the constant as an operand.<br><br>If &quot;operand1&quot; is &quot;0&quot; then the value of the address register is fed to the ALU as operand. Otherwise the &quot;constant&quot; represented by the bits instr[1:5] is fed as first operand.<br><br>The destination specifies where the result of the ALU operation has to be saved. While &quot;op1&quot; and &quot;op2&quot; are decoded by the CPU, the &quot;destination&quot; bits of the instruction have to be decoded by the DECODER in regards to the following decoding rules:<br><br>destination = 00 -&gt; set loadA, loadM and loadD to 0<br>destination = 01 -&gt; set loadA to 1 ; set loadM  and loadD to 0<br>destination = 10 -&gt; set loadM to 1 ; set loadA  and loadD to 0<br>destination = 11 -&gt; set loadD to 1 ; set loadA  and loadM to 0<br><br>Interface Specification:<br>------------------------<br>Inputs: instr[16];<br>Outputs: cToM, loadA, loadD, loadM, op1, op2[2], opCode[4], jmpIfZ, constant[15];<br><br><br>Graphical Representation:<br>-------------------------<br>             _________<br>            |         |--cToM---------<br>            |         |--loadA----------<br>            |         |--loadD----------<br>            |         |--loadM----------<br>-instr[16]--| Decoder |--op1----------<br>            |         |--op2[2]-------<br>            |         |--opCode[4]----<br>            |         |--jmpIfZ-------<br>            |_________|--constant[15]-<br><br><br>Examples:<br>---------<br> instr  || cToM | jmpIfZ | loadA | loadD | loadM | op1 | constant | op2 | opCode<br> -------------------------------------------------------------------------------<br> 0x0000 || 0    | 0      | 0     | 0     | 0     | 0   | 0x0000   | 00  | 0000<br> 0x8000 || 1    | 0      | 0     | 0     | 1     | 0   | 0x0000   | 00  | 0000<br> 0xFFFF || 1    | 0      | 0     | 0     | 1     | 1   | 0x7FFF   | 11  | 1111<br> 0x7FFF || 0    | 1      | 0     | 1     | 0     | 1   | 0x7FFF   | 11  | 1111<br> 0x7C1F || 0    | 0      | 0     | 1     | 0     | 1   | 0x7C1F   | 11  | 0000<br> 0x7C0F || 0    | 0      | 0     | 1     | 0     | 1   | 0x7C0F   | 11  | 0000<br></code></pre></td></tr></table></figure>





<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><code class="hljs shell">Microhard Central Processing Unit Specification<br>===============================================<br><br>Description:<br>------------<br>On a high level the Microhard CPU is able to perform a wide variety of instructions similar to the Microhard ALU. However while the ALU is only capable of executing single arithmetic instructions, the CPU is able to execute complex programs composed of many instructions by managing the program execution flow.<br><br><br>Interface Specification:<br>------------------------<br>Inputs: instr[16], data[16], reset;<br>Outputs: write, dataAddr[16], instrAddr[16], result[16];<br><br><br>Graphical Representation:<br>-------------------------<br>             _____<br>-instr[16]--|     |--instrAddr[16]-<br>            |     |<br>--data[16]--| CPU |--dataAddr[16]--<br>            |     |--result[16]----<br>            |_____|--write---------<br>               |<br>-------reset---/<br><br><br>User Instructions:<br>------------------<br>To execute a program the CPU needs to be connected to a RAM element containing the instructions of the program and a second RAM element containing all data which should be processed.<br><br>The program RAM element has to be connected to the CPU via the &quot;instr&quot; and &quot;instrAddr&quot; busses. The &quot;in&quot; bus and the &quot;load&quot; input of the RAM is supposed to be disconnected.<br><br>The data RAM element has to be connected to the CPU via the &quot;data&quot; and &quot;dataAddr&quot; busses. The &quot;in&quot; bus of the RAM has to be connected to the &quot;result&quot; output of the CPU and the &quot;load&quot; input of the RAM has to be connected to the &quot;write&quot; output of the CPU.<br><br>To start the program, the reset pin has to be supplied with the value &quot;1&quot; for a single clock cycle to make sure the program is executed from the beginning.<br><br><br>Implementation Details:<br>-----------------------<br>The CPU contains (among other elements) two registers, one counter and one ALU:<br>- the Arithmetic-Register (AR) is used to temporarily store computation results<br>- the Memory-Register (MR) is used to reference addresses in the connected data<br>  RAM<br>- the Program-Counter (PC) is used to reference addresses in the connected<br>  instruction RAM<br>- the ALU is used to perform arithmetic operations<br><br>This specification will refer to the elements as AR, MR, PC and ALU.<br><br><br>Behavioral Specification:<br>-------------------------<br>After the instruction has been decoded by the DECODER (see the DECODER specification for details), the CPU uses the DECODER outputs to ensure following behavior:<br><br>- If the &quot;cToM&quot; and &quot;loadM&quot; output of the decoder is &quot;1&quot;, the &quot;constant&quot; output<br>  has to be loaded into the MR.<br>- If &quot;loadM&quot; is &quot;1&quot; and &quot;cToM&quot; is &quot;0&quot;, the result of the ALU operation has to be<br>  loaded into the MR.<br>- If &quot;loadA&quot; is &quot;1&quot;, the result of the ALU operation has to be loaded into the<br>  AR.<br>- The &quot;write&quot; output of the CPU has to have the same value as the &quot;loadD&quot; output<br>  of the DECODER.<br>- The &quot;opCode&quot; output of the DECODER has to be directly fed into the ALU.<br>- If the &quot;op1&quot; output of the DECODER is &quot;1&quot;, the &quot;constant&quot; has to be fed in to<br>  the ALU as the first operand. Otherwise the AR has to be fed into the ALU.<br>- For the &quot;op2&quot; output of the DECODER:<br>  &quot;00&quot; -&gt; feed &quot;constant&quot; as second operator into the ALU<br>  &quot;01&quot; -&gt; feed AR as second operator into the ALU<br>  &quot;10&quot; -&gt; feed MR as second operator into the ALU<br>  &quot;11&quot; -&gt; feed data bus as second operator into the ALU<br>- When feeding &quot;constant&quot; as an operand to the ALU, only the lowest 5 bits of &quot;constant&quot; are used. This 5 bit value is padded to 16 bit in accordance to the sign of the value.<br>- If &quot;jmpIfZ&quot; and the &quot;zero&quot; flag of the ALU is &quot;1&quot;, load the value of the MR<br>  into the PC.<br>- Write the ALU output on the &quot;result&quot; bus.<br>- Write the MR value on the &quot;dataAddr&quot; bus.<br>- Write the PC value on the &quot;instrAddr&quot; bus.<br>- Set the PC to &quot;0&quot; if the &quot;reset&quot; input is set.<br><br><br>Examples:<br>---------<br> instr  | data   | reset || instrAddr | dataAddr | result  | write<br> -----------------------------------------------------------------<br> // result = const + AR = ? (unknown register states):<br> 0x0000 | 0x0000 | 0     || x         | x        | x       | 0<br> // reset program counter:<br> 0x0000 | 0x0000 | 1     || x         | x        | x       | 0<br> // load 0x00FF into MR:<br> 0x80FF | 0x0000 | 0     || 0x0000    | x        | x       | 0<br> // AR = const + data = 1 + 0 = 1:<br> 0x3C01 | 0x0000 | 0     || 0x0001    | 0x00FF   | 0x0001  | 0<br> // result = AR + const = 1:<br> 0x0000 | 0x0000 | 0     || 0x0002    | 0x00FF   | 0x0001  | 0<br> // MR = AR + const = 1:<br> 0x4000 | 0x0000 | 0     || 0x0003    | 0x00FF   | 0x0001  | 0<br> // data = const + MR = 1:<br> 0x7800 | 0x0000 | 0     || 0x0004    | 0x0001   | 0x0001  | 1<br> // load MR into PC:<br> 0x1020 | 0x0001 | 0     || 0x0005    | 0x0001   | 0x0000  | 0<br> // no operation:<br> 0x1000 | 0x0001 | 0     || 0x0001    | 0x0001   | 0x0000  | 0<br> // no operation:<br> 0x1000 | 0x0001 | 0     || 0x0002    | 0x0001   | 0x0000  | 0<br><br></code></pre></td></tr></table></figure>

<p><img src="/2024/06/10/MHRD-build-your-own-cpu/image-20240614151915654.png" srcset="/img/loading.gif" lazyload alt="image-20240614151915654"></p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/Games/" class="print-no-link">#Games</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>MHRD build your own cpu</div>
      <div>http://example.com/2024/06/10/MHRD-build-your-own-cpu/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>Author</div>
          <div>John Doe</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>Posted on</div>
          <div>June 10, 2024</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>Licensed under</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - Attribution">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2024/06/21/Machine-Learning-in-Pratice/" title="Machine Learning in Pratice">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Machine Learning in Pratice</span>
                        <span class="visible-mobile">Previous</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2024/05/28/Basic-Concept/" title="Basic Concept">
                        <span class="hidden-mobile">Basic Concept</span>
                        <span class="visible-mobile">Next</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  
  
    <article id="comments" lazyload>
      <script src="//cdn.jsdelivr.net/npm/@waline/client"></script>

  <div id="waline"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#waline', function() {
      Fluid.utils.createCssLink('https://cdn.jsdelivr.net/npm/@waline/client@1/dist/waline.min.css')
      Fluid.utils.createScript('https://cdn.jsdelivr.net/npm/@waline/client@1/dist/waline.min.js', function() {
        var options = Object.assign(
          {"serverURL":"https://blog-9orkpun6i-zhangjiyuan1226s-projects.vercel.app","path":"window.location.pathname","meta":["nick","mail","link"],"requiredMeta":["nick"],"lang":"zh-CN","emoji":["https://cdn.jsdelivr.net/gh/walinejs/emojis/weibo"],"dark":"html[data-user-color-scheme=\"dark\"]","wordLimit":0,"pageSize":10,"placeholder":null,"avatar":"retro","avatarCDN":"https://seccdn.libravatar.org/avatar/","avatarForce":false,"highlight":true},
          {
            el: '#waline',
            path: window.location.pathname,
            serverURL: 'https://blog-9orkpun6i-zhangjiyuan1226s-projects.vercel.app',
          }
        )
        Waline.init(options);
        Fluid.utils.waitElementVisible('#waline .vcontent', () => {
          var imgSelector = '#waline .vcontent img:not(.vemoji)';
          Fluid.plugins.imageCaption(imgSelector);
          Fluid.plugins.fancyBox(imgSelector);
        })
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


    </article>
  


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>Table of Contents</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  


  
  





  <script>
  Fluid.utils.createScript('https://cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', function() {
    mermaid.initialize({"theme":"default"});

    Fluid.utils.listenDOMLoaded(function() {
      Fluid.events.registerRefreshCallback(function() {
        if ('mermaid' in window) {
          mermaid.init();
        }
      });
    });
  });
</script>






    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">Keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://cdn.jsdelivr.net/npm/tocbot@4/dist/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://cdn.jsdelivr.net/npm/anchor-js@4/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  
      <script>
        if (!window.MathJax) {
          window.MathJax = {
            tex    : {
              inlineMath: { '[+]': [['$', '$']] }
            },
            loader : {
              load: ['ui/lazy']
            },
            options: {
              renderActions: {
                insertedScript: [200, () => {
                  document.querySelectorAll('mjx-container').forEach(node => {
                    let target = node.parentNode;
                    if (target.nodeName.toLowerCase() === 'li') {
                      target.parentNode.classList.add('has-jax');
                    }
                  });
                }, '', false]
              }
            }
          };
        } else {
          MathJax.startup.document.state(0);
          MathJax.texReset();
          MathJax.typeset();
          MathJax.typesetPromise();
        }

        Fluid.events.registerRefreshCallback(function() {
          if ('MathJax' in window && MathJax.startup.document && typeof MathJax.startup.document.state === 'function') {
            MathJax.startup.document.state(0);
            MathJax.texReset();
            MathJax.typeset();
            MathJax.typesetPromise();
          }
        });
      </script>
    

  <script  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" ></script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">Blog works best with JavaScript enabled</div>
  </noscript>
</body>
</html>
